<mat-tree
  [dataSource]="dataSource"
  [treeControl]="treeControl"
  class="file-tree">
  <mat-button-toggle-group>
    <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
      <div
        class="mat-tree-node"
        auto="file-name"
        [attr.name]="node.name"
        (mouseenter)="nodeHighlight($event, node)"
        (mouseleave)="nodeUnHighlight($event, node)"
        (click)="nodeSelect($event, node)"
        [ngClass]="{ 'current-node': getClass(node) }">
        <button mat-icon-button>
          <span class="material-symbols-outlined">description</span>
        </button>
        {{ node.name }}
      </div>
    </mat-tree-node>
    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasSub">
      <div
        class="mat-tree-node"
        auto="folder-name"
        [attr.name]="node.name"
        (mouseenter)="nodeHighlight($event, node)"
        (mouseleave)="nodeUnHighlight($event, node)"
        (click)="nodeSelect($event, node)"
        [ngClass]="{ 'current-node': getClass(node) }">
        <button mat-icon-button matTreeNodeToggle>
          <span class="material-symbols-outlined">
            {{ treeControl.isExpanded(node) ? "expand_more" : "chevron_right" }}
          </span>
        </button>
        <span class="material-symbols-outlined icon-spacing">folder</span>
        {{ node.name }}
      </div>
      <div *ngIf="!treeControl.isExpanded(node)" role="group">
        <ng-container matTreeNodeOutlet></ng-container>
      </div>
    </mat-nested-tree-node>
  </mat-button-toggle-group>
</mat-tree>
<!--<pre>data: {{ this.dataSource.data | json }}</pre>-->
