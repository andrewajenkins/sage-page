<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="file-tree">
  <mat-button-toggle-group>
    <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
      <div
        class="mat-tree-node"
        auto="file-name"
        [attr.name]="node.name"
        (mouseenter)="nodeHighlight($event, node)"
        (mouseleave)="nodeUnHighlight($event, node)"
        (click)="nodeSelect($event, node)"
        [ngClass]="{ 'current-node': getClass(node) }">
        <button mat-button>
          <span class="small-icon material-symbols-outlined" style="font-size: 18px">
            {{ treeControl.isExpanded(node) ? "chevron_right" : "expand_more" }}
          </span>
        </button>
        <span class="material-symbols-outlined icon-spacing">article</span>
        {{ node.name }}
      </div>
    </mat-tree-node>
    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasSub">
      <div
        class="mat-tree-node"
        auto="folder-name"
        [attr.name]="node.name"
        (mouseenter)="nodeHighlight($event, node)"
        (mouseleave)="nodeUnHighlight($event, node)"
        (click)="nodeSelect($event, node)"
        [ngClass]="{ 'current-node': getClass(node) }">
        <button mat-button matTreeNodeToggle>
          <span class="small-icon material-symbols-outlined" style="font-size: 18px">
            {{ treeControl.isExpanded(node) ? "chevron_right" : "expand_more" }}
          </span>
        </button>
        <span class="material-symbols-outlined icon-spacing">{{
          getIcon(node) // node.type == "folder" ? "folder" : "description"
        }}</span>
        {{ node.name }}
        <span class="material-symbols-outlined icon-spacing">
          {{ node.content?.length > 0 ? "article" : "" }}
        </span>
      </div>
      <div *ngIf="!treeControl.isExpanded(node)" role="group">
        <ng-container matTreeNodeOutlet></ng-container>
      </div>
    </mat-nested-tree-node>
  </mat-button-toggle-group>
</mat-tree>
<!--<pre>data: {{ this.dataSource.data | json }}</pre>-->
<pre style="max-width: 800px; white-space: pre-wrap">curr: {{ curr | json }}</pre>
